<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>HWDPortalMaui</title>
    <base href="/" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="stylesheet" href="HWDPortalMaui.styles.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body>

    <div class="status-bar-safe-area"></div>

    <div id="app">Loading...</div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ğŸ—™</a>
    </div>

    <script src="_framework/blazor.webview.js" autostart="false"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // å®šç¾©å…¨åŸŸçš„ showToast å‡½å¼
        window.showToast = (message, type) => {
            // æ ¹æ“šå‚³å…¥çš„ type æ±ºå®š icon å’ŒèƒŒæ™¯é¡è‰²
            const toastDetails = {
                success: { icon: 'bi-check-circle-fill', bgClass: 'bg-success' },
                danger: { icon: 'bi-x-circle-fill', bgClass: 'bg-danger' },
                warning: { icon: 'bi-exclamation-triangle-fill', bgClass: 'bg-warning' },
                info: { icon: 'bi-info-circle-fill', bgClass: 'bg-info' }
            };

            const details = toastDetails[type] || toastDetails.info; // å¦‚æœ type ç„¡æ•ˆï¼Œé è¨­ä½¿ç”¨ info
            const toastContainer = document.querySelector('.toast-container');
            if (!toastContainer) return;

            // å‹•æ…‹å»ºç«‹ Toast çš„ HTML çµæ§‹
            const toastElement = document.createElement('div');
            toastElement.className = `toast align-items-center text-white ${details.bgClass} border-0`;
            toastElement.setAttribute('role', 'alert');
            toastElement.setAttribute('aria-live', 'assertive');
            toastElement.setAttribute('aria-atomic', 'true');

            toastElement.innerHTML = `
                    <div class="d-flex">
                        <div class="toast-body">
                            <i class="bi ${details.icon} me-2"></i>
                            ${message}
                        </div>
                        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                `;

            // å°‡å»ºç«‹å¥½çš„ Toast å…ƒç´ åŠ å…¥åˆ°å®¹å™¨ä¸­
            toastContainer.appendChild(toastElement);

            // å»ºç«‹ Bootstrap Toast å¯¦ä¾‹ä¸¦é¡¯ç¤º
            const toast = new bootstrap.Toast(toastElement, {
                delay: 5000 // 5 ç§’å¾Œè‡ªå‹•æ¶ˆå¤±
            });

            // ç›£è½ Toast é—œé–‰äº‹ä»¶ï¼Œä¸¦åœ¨é—œé–‰å¾Œå¾ DOM ä¸­ç§»é™¤å…ƒç´ ï¼Œé¿å…å…ƒç´ å †ç©
            toastElement.addEventListener('hidden.bs.toast', () => {
                toastElement.remove();
            });

            toast.show();
        };
    </script>

</body>

</html>